<div class="users-management-container">
  <div class="main-container-header">
    <h2>All Users</h2>
    <div class="icons-container">
      <mat-icon
        fontIcon="add_circle_outline"
        aria-hidden="false"
        aria-label="Create user icon"
      ></mat-icon>
      <mat-icon
        fontIcon="account_tree"
        aria-hidden="false"
        aria-label="Filter icon"
      ></mat-icon>
      <mat-icon
        fontIcon="search"
        aria-hidden="false"
        aria-label="Search icon"
      ></mat-icon>
    </div>
  </div>

  @if (userStore.isErrored()) {
    <aw-error-container [errors]="userStore.errors()" />
  }

  <aw-users-table
    [dataSource]="dataSource"
    [displayedColumns]="displayedColumns"
    [length]="this.userStore.totalData()"
    [pageSizes]="pageSizes"
    [pageSize]="this.userStore.limit()"
    [pageIndex]="this.userStore.pageIndex()"
    (onPageChanged)="this.userStore.loadPage($event)"
    (onRowClicked)="rowClick($event)"
    (onViewPersonClicked)="viewPerson($event)"
  ></aw-users-table>
</div>

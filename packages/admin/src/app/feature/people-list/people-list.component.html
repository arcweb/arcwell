<aw-table-header
  [tableName]="featureStore.activeSubfeature()?.name || 'People'"
  [createLinkQueryParams]="{ type_key: typeKey$ | async }"
  [enableFilter]="peopleListStore.people().length > 0"
  [enableSearch]="peopleListStore.people().length > 0"
></aw-table-header>

@if (peopleListStore.isErrored()) {
  <aw-error-container [errors]="peopleListStore.errors()" />
}
@if (peopleListStore.people().length > 0) {
  <aw-people-table
    [dataSource]="dataSource"
    [displayedColumns]="displayedColumns"
    [matSortActive]="this.peopleListStore.sort()"
    [matSortDirection]="this.peopleListStore.order()"
    [length]="this.peopleListStore.totalData()"
    [pageSizes]="pageSizes"
    [pageSize]="this.peopleListStore.limit()"
    [pageIndex]="this.peopleListStore.pageIndex()"
    (onPageChanged)="this.peopleListStore.loadPage($event)"
    (onRowClicked)="rowClick($event)"
    (onSortChanged)="sortChange($event)"
    (onViewAccountClicked)="viewAccount($event)"
  ></aw-people-table>
} @else {
  <aw-no-records
    [createLinkQueryParams]="{ type_key: typeKey$ | async }"
  ></aw-no-records>
}

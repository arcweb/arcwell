<aw-table-header
  [tableName]="featureStore.activeSubfeature()?.name || 'Facts'"
  [createLinkQueryParams]="{ type_key: typeKey$ | async }"
  [enableFilter]="factsListStore.facts().length > 0"
  [enableSearch]="factsListStore.facts().length > 0"
></aw-table-header>

@if (factsListStore.isErrored()) {
  <aw-error-container [errors]="factsListStore.errors()" />
}

@if (factsListStore.facts().length > 0) {
  <div class="table-form-container">
    <aw-facts-table
      [dataSource]="dataSource"
      [displayedColumns]="displayedColumns"
      [matSortActive]="this.factsListStore.sort()"
      [matSortDirection]="this.factsListStore.order()"
      [length]="this.factsListStore.totalData()"
      [pageSizes]="pageSizes"
      [pageSize]="this.factsListStore.limit()"
      [pageIndex]="this.factsListStore.pageIndex()"
      (onPageChanged)="this.factsListStore.loadPage($event)"
      (onRowClicked)="rowClick($event)"
      (onSortChanged)="sortChange($event)"
      (onViewEventClicked)="viewEvent($event)"
      (onViewResourceClicked)="viewResource($event)"
      (onViewPersonClicked)="viewPerson($event)"
    ></aw-facts-table>
  </div>
} @else {
  <aw-no-records
    [createLinkQueryParams]="{ type_key: typeKey$ | async }"
  ></aw-no-records>
}

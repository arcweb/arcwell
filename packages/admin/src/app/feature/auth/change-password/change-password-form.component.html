<form [formGroup]="changeForm">
  @if (authStore.loginStatus() === 'error') {
    <mat-error>There has been an Error changing your password</mat-error>
  }
  <div class="title">
    <h3>Enter new password</h3>
    <p>Please enter your current password and new password.</p>
  </div>

  <mat-form-field appearance="fill">
    <mat-label>Current Password</mat-label>
    <input
      matNativeControl
      formControlName="password"
      type="password"
      placeholder="Current Password"
    />
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>New Password</mat-label>
    <input
      matNativeControl
      formControlName="newPassword"
      type="password"
      placeholder="New Password"
    />
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Confirm Password</mat-label>
    <input
      matNativeControl
      formControlName="confirmPassword"
      type="password"
      placeholder="Confirm Password"
    />
  </mat-form-field>
  @if (changeForm.controls.confirmPassword.hasError('mustMatch')) {
    <mat-error>The two passwords must match.</mat-error>
  }

  <button
    mat-stroked-button
    color="primary"
    type="submit"
    [disabled]="!changeForm.valid"
  >
    Change
  </button>
</form>
